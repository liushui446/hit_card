@ECHO OFF

SET "SCRIPT_DIR=%~dp0"

IF NOT DEFINED AS_QUIET ( ECHO Setting vars for AS @AS_VERSION@ )
SET "PATH=%SCRIPT_DIR%\@AS_LIB_RUNTIME_DIR_RELATIVE_CMAKECONFIG@;%PATH%"

IF NOT DEFINED AS_SKIP_PYTHON CALL :SET_PYTHON

SET SCRIPT_DIR=

IF NOT [%1] == [] GOTO :RUN_COMMAND

GOTO :EOF

:RUN_COMMAND
SET RUN_INTERACTIVE=1
echo %CMDCMDLINE% | find /i "%~0" >nul
IF NOT errorlevel 1 set RUN_INTERACTIVE=0

%*
SET RESULT=%ERRORLEVEL%
IF %RESULT% NEQ 0 (
  IF _%RUN_INTERACTIVE%_==_0_ ( IF NOT DEFINED AS_BATCH_MODE ( pause ) )
)
EXIT /B %RESULT%

:SET_PYTHON
SET "PYTHONPATH_AS=%SCRIPT_DIR%\@AS_PYTHON_DIR_RELATIVE_CMAKECONFIG@"
IF NOT DEFINED AS_QUIET ( ECHO Append PYTHONPATH: %PYTHONPATH_AS% )
SET "PYTHONPATH=%PYTHONPATH_AS%;%PYTHONPATH%"
SET PYTHONPATH_AS=
EXIT /B


:EOF
